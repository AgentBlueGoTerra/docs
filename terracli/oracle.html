<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Oracle | Terra Docs</title>
    <meta name="generator" content="VuePress 1.5.4">
    <link rel="stylesheet" type="text/css" href="https://cloud.typography.com/7420256/6416592/css/fonts.css">
    <link rel="stylesheet" type="text/css" href="https://terra.money/static/fonts/jetbrainsMono.css?updated=190220">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:400,500,700&amp;display=swap">
    <link rel="icon" type="image/png" href="/img/favicon.png">
    <script>window.onload = function() {
        requestAnimationFrame(function() {
          if (location.hash) {
            const element = document.getElementById(location.hash.slice(1))
      
            if (element) {
              element.scrollIntoView()
            }
          }
        })
      }</script>
    <meta name="description" content="Terra is a blockchain protocol that provides fundamental infrastructure for a decentralized economy and enables open participation in the creation of new financial primitives to power the innovation of money.">
    <link rel="preload" href="/assets/css/0.styles.33f85e7e.css" as="style"><link rel="preload" href="/assets/js/app.13c76a2d.js" as="script"><link rel="preload" href="/assets/js/3.5bbfce5d.js" as="script"><link rel="preload" href="/assets/js/47.1692b771.js" as="script"><link rel="prefetch" href="/assets/js/10.6399fcfa.js"><link rel="prefetch" href="/assets/js/11.1e23a1a4.js"><link rel="prefetch" href="/assets/js/12.6e7e33b7.js"><link rel="prefetch" href="/assets/js/13.216ec789.js"><link rel="prefetch" href="/assets/js/14.39f201bf.js"><link rel="prefetch" href="/assets/js/15.5a864053.js"><link rel="prefetch" href="/assets/js/16.8cdde017.js"><link rel="prefetch" href="/assets/js/17.dceaef37.js"><link rel="prefetch" href="/assets/js/18.25498f29.js"><link rel="prefetch" href="/assets/js/19.564759fc.js"><link rel="prefetch" href="/assets/js/20.662809af.js"><link rel="prefetch" href="/assets/js/21.3e5ef416.js"><link rel="prefetch" href="/assets/js/22.7100fb94.js"><link rel="prefetch" href="/assets/js/23.81b5132b.js"><link rel="prefetch" href="/assets/js/24.10b39894.js"><link rel="prefetch" href="/assets/js/25.7e25804f.js"><link rel="prefetch" href="/assets/js/26.60822aca.js"><link rel="prefetch" href="/assets/js/27.93356269.js"><link rel="prefetch" href="/assets/js/28.87cc8583.js"><link rel="prefetch" href="/assets/js/29.6d7b230e.js"><link rel="prefetch" href="/assets/js/30.39f69558.js"><link rel="prefetch" href="/assets/js/31.b9a78796.js"><link rel="prefetch" href="/assets/js/32.efa1ba44.js"><link rel="prefetch" href="/assets/js/33.5466959b.js"><link rel="prefetch" href="/assets/js/34.96340d7e.js"><link rel="prefetch" href="/assets/js/35.c0956295.js"><link rel="prefetch" href="/assets/js/36.f634a370.js"><link rel="prefetch" href="/assets/js/37.2933714d.js"><link rel="prefetch" href="/assets/js/38.38b48c74.js"><link rel="prefetch" href="/assets/js/39.6a3cf3ef.js"><link rel="prefetch" href="/assets/js/4.b7c677e1.js"><link rel="prefetch" href="/assets/js/40.426c954d.js"><link rel="prefetch" href="/assets/js/41.51a8a663.js"><link rel="prefetch" href="/assets/js/42.d7cb4c05.js"><link rel="prefetch" href="/assets/js/43.49c4b7cd.js"><link rel="prefetch" href="/assets/js/44.af602d03.js"><link rel="prefetch" href="/assets/js/45.e74896ea.js"><link rel="prefetch" href="/assets/js/46.28e20adc.js"><link rel="prefetch" href="/assets/js/48.6c7938de.js"><link rel="prefetch" href="/assets/js/49.ddc57b0a.js"><link rel="prefetch" href="/assets/js/5.34f5657c.js"><link rel="prefetch" href="/assets/js/50.31eb0660.js"><link rel="prefetch" href="/assets/js/51.75199251.js"><link rel="prefetch" href="/assets/js/52.0f067967.js"><link rel="prefetch" href="/assets/js/53.7ddf13d2.js"><link rel="prefetch" href="/assets/js/54.42aac521.js"><link rel="prefetch" href="/assets/js/55.687402d6.js"><link rel="prefetch" href="/assets/js/56.0cc23c46.js"><link rel="prefetch" href="/assets/js/57.a20249ce.js"><link rel="prefetch" href="/assets/js/58.4218f052.js"><link rel="prefetch" href="/assets/js/59.4bfbb186.js"><link rel="prefetch" href="/assets/js/6.7d5d320e.js"><link rel="prefetch" href="/assets/js/60.465d6486.js"><link rel="prefetch" href="/assets/js/7.aac63cba.js"><link rel="prefetch" href="/assets/js/8.48855181.js"><link rel="prefetch" href="/assets/js/9.1a93a809.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.eec9cc92.js">
    <link rel="stylesheet" href="/assets/css/0.styles.33f85e7e.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"></div> <a href="/" class="home-link router-link-active"><img src="/img/docs_logo.svg" alt="Terra Docs" class="logo"> <span class="site-name can-hide">Terra Docs</span></a> <div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Docs</a></div><div class="nav-item"><a href="/dapps/" class="nav-link">Contracts</a></div><div class="nav-item"><a href="/validator/" class="nav-link">Validators</a></div><div class="nav-item"><a href="/dev/" class="nav-link">Core</a></div><div class="nav-item"><a href="https://github.com/terra-project/core" target="_blank" rel="noopener noreferrer" class="nav-link external"><div class="nav-icon"><img src="/img/github.svg"></div></a></div></nav> <form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form></div></header> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Docs</a></div><div class="nav-item"><a href="/dapps/" class="nav-link">Contracts</a></div><div class="nav-item"><a href="/validator/" class="nav-link">Validators</a></div><div class="nav-item"><a href="/dev/" class="nav-link">Core</a></div><div class="nav-item"><a href="https://github.com/terra-project/core" target="_blank" rel="noopener noreferrer" class="nav-link external"><div class="nav-icon"><img src="/img/github.svg"></div></a></div></nav>  <ul class="sidebar-links"><li><a href="/" aria-current="page" class="sidebar-link">Overview</a></li><li><a href="/quickstart.html" class="sidebar-link">Quickstart</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Concepts</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading"><span>Terra Node</span> <span class="arrow right"></span></p> <!----></section></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>terracli</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/terracli/" aria-current="page" class="sidebar-link">terracli</a></li><li><a href="/terracli/lcd.html" class="sidebar-link">Light Client Daemon</a></li><li><a href="/terracli/keys.html" class="sidebar-link">Key Management</a></li><li><a href="/terracli/multisig.html" class="sidebar-link">Multisig</a></li><li><a href="/terracli/tx.html" class="sidebar-link">TX Search</a></li><li><a href="/terracli/account.html" class="sidebar-link">Account</a></li><li><a href="/terracli/distribution.html" class="sidebar-link">Distribution</a></li><li><a href="/terracli/governance.html" class="sidebar-link">Governance</a></li><li><a href="/terracli/market.html" class="sidebar-link">Market</a></li><li><a href="/terracli/oracle.html" aria-current="page" class="active sidebar-link">Oracle</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/terracli/oracle.html#query" class="sidebar-link">Query</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/terracli/oracle.html#exchange-rates-of-luna" class="sidebar-link">Exchange Rates of LUNA</a></li><li class="sidebar-sub-header"><a href="/terracli/oracle.html#votes" class="sidebar-link">Votes</a></li><li class="sidebar-sub-header"><a href="/terracli/oracle.html#prevotes" class="sidebar-link">Prevotes</a></li><li class="sidebar-sub-header"><a href="/terracli/oracle.html#active-denoms" class="sidebar-link">Active Denoms</a></li><li class="sidebar-sub-header"><a href="/terracli/oracle.html#feeder-account" class="sidebar-link">Feeder Account</a></li><li class="sidebar-sub-header"><a href="/terracli/oracle.html#miss-counter" class="sidebar-link">Miss Counter</a></li><li class="sidebar-sub-header"><a href="/terracli/oracle.html#aggregate-prevotes" class="sidebar-link">Aggregate Prevotes</a></li><li class="sidebar-sub-header"><a href="/terracli/oracle.html#aggregate-votes" class="sidebar-link">Aggregate Votes</a></li><li class="sidebar-sub-header"><a href="/terracli/oracle.html#vote-targets" class="sidebar-link">Vote Targets</a></li><li class="sidebar-sub-header"><a href="/terracli/oracle.html#tobin-taxes" class="sidebar-link">Tobin Taxes</a></li><li class="sidebar-sub-header"><a href="/terracli/oracle.html#parameters" class="sidebar-link">Parameters</a></li></ul></li><li class="sidebar-sub-header"><a href="/terracli/oracle.html#transaction" class="sidebar-link">Transaction</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/terracli/oracle.html#submit-an-exchange-rate-vote" class="sidebar-link">Submit an Exchange Rate Vote</a></li><li class="sidebar-sub-header"><a href="/terracli/oracle.html#delegate-exchange-rate-voting-rights" class="sidebar-link">Delegate Exchange Rate Voting Rights</a></li></ul></li></ul></li><li><a href="/terracli/slashing.html" class="sidebar-link">Slashing</a></li><li><a href="/terracli/staking.html" class="sidebar-link">Staking</a></li><li><a href="/terracli/treasury.html" class="sidebar-link">Treasury</a></li><li><a href="/terracli/wasm.html" class="sidebar-link">WASM</a></li></ul></section></li><li><a href="/integrations.html" class="sidebar-link">Integrations</a></li></ul>  <div class="sidebar_footer"><a href="https://jigu.terra.money/" target="_blank"><div class="image"><img src="/img/jigu_logo.svg"></div> <div class="name"><div><b>Jigu</b> Python SDK
          <i class="material-icons">transit_enterexit</i></div></div></a> <a href="https://terra-project.github.io/terra.js/" target="_blank"><div class="image"><img src="/img/terra_js.svg"></div> <div class="name"><div><b>Terra.js</b> JS SDK
          <i class="material-icons">transit_enterexit</i></div></div></a></div></aside> <main class="page"> <nav id="breadcrumb" class="breadcrumb-container" data-v-5c2bdde3><a href="/" class="breadcrumb router-link-active" data-v-5c2bdde3><span data-v-5c2bdde3>Terra Docs</span></a><a href="/terracli/" class="breadcrumb router-link-active" data-v-5c2bdde3><span data-v-5c2bdde3>terracli</span></a><a href="/terracli/oracle.html" aria-current="page" class="breadcrumb router-link-exact-active router-link-active" data-v-5c2bdde3><span data-v-5c2bdde3>Oracle</span></a></nav> <div class="theme-default-content content__default"><h1 id="oracle"><a href="#oracle" class="header-anchor">#</a> Oracle</h1> <h2 id="query"><a href="#query" class="header-anchor">#</a> Query</h2> <h3 id="exchange-rates-of-luna"><a href="#exchange-rates-of-luna" class="header-anchor">#</a> Exchange Rates of LUNA</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>terracli query oracle exchange-rates
</code></pre></div><h3 id="votes"><a href="#votes" class="header-anchor">#</a> Votes</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>terracli query oracle votes <span class="token operator">&lt;</span>denom<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>validator<span class="token operator">&gt;</span>
</code></pre></div><h3 id="prevotes"><a href="#prevotes" class="header-anchor">#</a> Prevotes</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>terracli query oracle prevotes <span class="token operator">&lt;</span>denom<span class="token operator">&gt;</span> <span class="token operator">&lt;</span>validator<span class="token operator">&gt;</span>
</code></pre></div><h3 id="active-denoms"><a href="#active-denoms" class="header-anchor">#</a> Active Denoms</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>terracli query oracle actives
</code></pre></div><h3 id="feeder-account"><a href="#feeder-account" class="header-anchor">#</a> Feeder Account</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>terracli query oracle feeder <span class="token operator">&lt;</span>validator-addr<span class="token operator">&gt;</span>
</code></pre></div><h3 id="miss-counter"><a href="#miss-counter" class="header-anchor">#</a> Miss Counter</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>terracli query oracle miss <span class="token operator">&lt;</span>validator-addr<span class="token operator">&gt;</span>
</code></pre></div><h3 id="aggregate-prevotes"><a href="#aggregate-prevotes" class="header-anchor">#</a> Aggregate Prevotes</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>terracli query oracle aggregate-prevote <span class="token operator">&lt;</span>validator-addr<span class="token operator">&gt;</span>
</code></pre></div><h3 id="aggregate-votes"><a href="#aggregate-votes" class="header-anchor">#</a> Aggregate Votes</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>terracli query oracle aggregate-vote <span class="token operator">&lt;</span>validator-addr<span class="token operator">&gt;</span>
</code></pre></div><h3 id="vote-targets"><a href="#vote-targets" class="header-anchor">#</a> Vote Targets</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>terracli query oracle vote-targets
</code></pre></div><h3 id="tobin-taxes"><a href="#tobin-taxes" class="header-anchor">#</a> Tobin Taxes</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>terracli query oracle tobin-taxes
</code></pre></div><h3 id="parameters"><a href="#parameters" class="header-anchor">#</a> Parameters</h3> <div class="language-sh extra-class"><pre class="language-sh"><code>terracli query oracle params
</code></pre></div><h2 id="transaction"><a href="#transaction" class="header-anchor">#</a> Transaction</h2> <h3 id="submit-an-exchange-rate-vote"><a href="#submit-an-exchange-rate-vote" class="header-anchor">#</a> Submit an Exchange Rate Vote</h3> <p>Validators must submit two exchange rate vote transactions to participate in the oracle; a <code>prevote</code> containing the hash of the actual vote in the first vote period, and a <code>vote</code> containing the salt of the hash submitted in the prevote phase to prove honestly. The hash is the leading 20 bytes of the SHA256 hexa string run over the string of the format <code>salt:price:denom:validator-address</code>.
i
To submit a prevote, run:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>terracli tx oracle prevote <span class="token punctuation">\</span>
    <span class="token operator">&lt;</span>salt<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
    <span class="token operator">&lt;</span>price<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
    <span class="token operator">&lt;</span>validator_address<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
    --from mykey
</code></pre></div><p>After <code>VotePeriod</code> has expired from the submission of the prevote, the voter must submit the actual exchange rate vote. To do so, run:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>terracli tx oracle vote <span class="token punctuation">\</span>
    <span class="token operator">&lt;</span>salt<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
    <span class="token operator">&lt;</span>price<span class="token operator">&gt;</span>  <span class="token punctuation">\</span>
    <span class="token operator">&lt;</span>validator_address<span class="token operator">&gt;</span> <span class="token punctuation">\</span>
    --from mykey <span class="token punctuation">\</span>
    --validator <span class="token operator">&lt;</span>validator-address<span class="token operator">&gt;</span>
</code></pre></div><p>Where price is the form of Coin <code>8890.32ukrw</code></p> <p>Given that oracle votes have to be submitted in a feed over short time intervals (30 seconds), prevotes and votes will need to be submitted via some persistent server daemon, and not manually. For more information on how to do this, read the <a href="/validator/oracle.html">Exchange Rate Oracle</a> section of the Validator Handbook, and the <a href="/dev/spec-oracle.html">Oracle Module Specification</a>.</p> <h3 id="delegate-exchange-rate-voting-rights"><a href="#delegate-exchange-rate-voting-rights" class="header-anchor">#</a> Delegate Exchange Rate Voting Rights</h3> <p>A voter may also elect to delegate exchange rate voting to another signing key.</p> <div class="language-bash extra-class"><pre class="language-bash"><code>terracli tx oracle set-feeder <span class="token operator">&lt;</span>feeder_address<span class="token operator">&gt;</span> --from<span class="token operator">=</span>mykey
</code></pre></div><p>where <code>feeder_address</code> is the address you want to delegate your voting rights to. Note that the feeder will still need to submit votes on behalf of your validator in order for you to get credit.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/terra-project/docs/edit/master/docs/terracli/oracle.md" target="_blank" rel="noopener noreferrer">Edit this page on GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Updated on:</span> <span class="time">8/21/2020, 7:15:50 AM</span></div></footer> <div class="page-nav"><div class="inner"><div class="prev"><a href="/terracli/market.html">Market</a></div> <div class="next"><a href="/terracli/slashing.html">Slashing</a></div></div></div>  <div class="footer-container"><div class="company"><div class="copyright">Terraform labs PTE.LTD</div> <div class="subscribe"><div class="subscribe-title">Subscribe to get updates</div> <form action="https://money.us17.list-manage.com/subscribe/post?u=8eca8dc5c91c2e30d69b1463e&id=1447662093" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" novalidate="novalidate" class="validate"><input type="email" value name="EMAIL" id="mce-EMAIL" placeholder="Email address" required="required" class="email">
        real people should not fill this in and expect good things - do not remove this or risk form bot
        signups
        <div aria-hidden="true" style="position: absolute; left: -5000px;"><input type="text" name="b_8eca8dc5c91c2e30d69b1463e_1447662093" tabindex="-1" value></div> <button type="submit">Submit</button></form></div></div> <div class="links-container"><ul class="learn"><li>Learn</li> <li><a href="https://terra.money/Terra_White_paper.pdf" target="_blank">
          White
          Paper
        </a></li> <li><a href="https://docsend.com/view/9mvr5qq" target="_blank">Decks</a></li> <li><a href="https://certik.org/reports/terra.pdf" target="_blank">Security Audit</a></li> <li><a href="https://agora.terra.money/" target="_blank">Agora Discussions</a></li></ul> <ul class="developers"><li>Tools</li> <li><a href="https://station.terra.money/" target="_blank">Terra Station</a></li> <li><a href="https://finder.terra.money/" target="_blank">Terra Finder</a></li> <li><a href="https://status.terra.money/" target="_blank">Status</a></li></ul> <ul class="developers"><li>Luna</li> <li><a href="https://docs.terra.money/luna" target="_blank">What is Luna?</a></li> <li><a href="https://docs.terra.money/integrations.html#exchanges" target="_blank">Exchanges</a></li> <li><a href="https://docs.terra.money/integrations.html#wallets" target="_blank">Wallets</a></li></ul> <ul class="developers"><li>Foundation</li> <li><a href="https://terra.money/about.html" target="_blank">Team</a></li> <li><a href="https://terra.breezy.hr/" target="_blank">Careers</a></li></ul> <ul class="developers"><li>Developers</li> <li><a href="https://github.com/terra-project" target="_blank">Github</a></li> <li><a href="https://docs.terra.money/" target="_blank">Documentation</a></li> <li><a href="https://docs.terra.money/#sdks-for-developers" target="_blank">SDKs</a></li> <li><a href="https://github.com/terra-project/TIPs" target="_blank">TIPs</a></li></ul> <ul class="developers"><li>Validators</li> <li><a href="https://docs.terra.money/validator" target="_blank">Validator Guide</a></li> <li><a href="https://github.com/terra-project/validator-profiles" target="_blank">Profiles</a></li> <li><a href="https://discord.gg/ZHBuKda" target="_blank">Discord Channel</a></li></ul></div> <div class="sns-container"><div class="logos"><a href="https://discord.gg/bYfyhUT" rel="noopener" target="_blank"><img src="https://terra.money/static/assets/images/icon_discord.png" alt="link to Terra discord room"></a> <a href="https://medium.com/terra-money" rel="noopener" target="_blank"><img src="https://terra.money/static/assets/images/icon_medium.png" alt="link to Terra medium"></a> <a href="https://twitter.com/terra_money" rel="noopener" target="_blank"><img src="https://terra.money/static/assets/images/icon_twitter.png" alt="link to Terra twitter"></a> <a href="https://www.youtube.com/channel/UCoV1RXZ9ZBGcuu_PMTTlM0g" rel="noopener" target="_blank"><img src="https://terra.money/static/assets/images/icon_youtube.png" alt="link to Terra youtube"></a> <a href="https://t.me/terra_announcements" rel="noopener" target="_blank"><img src="https://terra.money/static/assets/images/icon_telegram.png" alt="link to Terra telegram room"></a></div> <a href="https://terra.money" target="_blank" class="terramoney">terra.money</a></div></div></main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.13c76a2d.js" defer></script><script src="/assets/js/3.5bbfce5d.js" defer></script><script src="/assets/js/47.1692b771.js" defer></script>
  </body>
</html>
