<!DOCTYPE html>
<html lang="en-US">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>Governance | Terra Docs</title>
    <meta name="generator" content="VuePress 1.5.0">
    <link rel="stylesheet" type="text/css" href="https://cloud.typography.com/7420256/6416592/css/fonts.css">
    <link rel="stylesheet" type="text/css" href="https://terra.money/static/fonts/jetbrainsMono.css?updated=190220">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Material+Icons|Material+Icons+Outlined">
    <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Noto+Sans+KR:400,500,700&amp;display=swap">
    <link rel="icon" type="image/png" href="/img/favicon.png">
    <meta name="description" content="Terra is the decentralized financial infrastructure powering the innovation of money. Terra provides the foundational building blocks for a new digital economy with its stablecoin protocol, oracle system, smart contracts, and plan for mass-user adoption.">
    <link rel="preload" href="/assets/css/0.styles.7b9bbe88.css" as="style"><link rel="preload" href="/assets/js/app.b6e5252d.js" as="script"><link rel="preload" href="/assets/js/3.29d4a129.js" as="script"><link rel="preload" href="/assets/js/12.72d7b46e.js" as="script"><link rel="prefetch" href="/assets/js/10.08056726.js"><link rel="prefetch" href="/assets/js/11.36823b58.js"><link rel="prefetch" href="/assets/js/13.e86e5eb2.js"><link rel="prefetch" href="/assets/js/14.41584f1c.js"><link rel="prefetch" href="/assets/js/15.f9ffd7d1.js"><link rel="prefetch" href="/assets/js/16.bcf28947.js"><link rel="prefetch" href="/assets/js/17.db0b330f.js"><link rel="prefetch" href="/assets/js/18.48061214.js"><link rel="prefetch" href="/assets/js/19.ff33c293.js"><link rel="prefetch" href="/assets/js/20.e4adf648.js"><link rel="prefetch" href="/assets/js/21.8a3ebe0b.js"><link rel="prefetch" href="/assets/js/22.5ce8c0d3.js"><link rel="prefetch" href="/assets/js/23.302f004d.js"><link rel="prefetch" href="/assets/js/24.de33eff7.js"><link rel="prefetch" href="/assets/js/25.953afd66.js"><link rel="prefetch" href="/assets/js/26.cf5933e1.js"><link rel="prefetch" href="/assets/js/27.34174639.js"><link rel="prefetch" href="/assets/js/28.489d11d6.js"><link rel="prefetch" href="/assets/js/29.832e368f.js"><link rel="prefetch" href="/assets/js/30.ead55dbd.js"><link rel="prefetch" href="/assets/js/31.ab2bde5d.js"><link rel="prefetch" href="/assets/js/32.f63c988a.js"><link rel="prefetch" href="/assets/js/33.2210b87b.js"><link rel="prefetch" href="/assets/js/34.52c0385a.js"><link rel="prefetch" href="/assets/js/35.fe7df9f7.js"><link rel="prefetch" href="/assets/js/36.34db88b4.js"><link rel="prefetch" href="/assets/js/37.3e328dbf.js"><link rel="prefetch" href="/assets/js/38.89ea93e9.js"><link rel="prefetch" href="/assets/js/39.e3331534.js"><link rel="prefetch" href="/assets/js/4.f71d3bef.js"><link rel="prefetch" href="/assets/js/40.c82d41b8.js"><link rel="prefetch" href="/assets/js/41.7e19fa8c.js"><link rel="prefetch" href="/assets/js/42.b09eac95.js"><link rel="prefetch" href="/assets/js/43.e2e0e0ca.js"><link rel="prefetch" href="/assets/js/44.8ad61f76.js"><link rel="prefetch" href="/assets/js/45.decb8e52.js"><link rel="prefetch" href="/assets/js/46.6c64c6ab.js"><link rel="prefetch" href="/assets/js/47.384c64e0.js"><link rel="prefetch" href="/assets/js/48.e7591a9e.js"><link rel="prefetch" href="/assets/js/49.5c14a99a.js"><link rel="prefetch" href="/assets/js/5.6c57d929.js"><link rel="prefetch" href="/assets/js/50.0432ddb5.js"><link rel="prefetch" href="/assets/js/51.e7f196c7.js"><link rel="prefetch" href="/assets/js/52.2e3d07a3.js"><link rel="prefetch" href="/assets/js/53.fc78ff31.js"><link rel="prefetch" href="/assets/js/54.1870cc66.js"><link rel="prefetch" href="/assets/js/6.7ff08ca8.js"><link rel="prefetch" href="/assets/js/7.197dcedb.js"><link rel="prefetch" href="/assets/js/8.d020663b.js"><link rel="prefetch" href="/assets/js/9.9ca0cda1.js"><link rel="prefetch" href="/assets/js/vendors~docsearch.e58ec6af.js">
    <link rel="stylesheet" href="/assets/css/0.styles.7b9bbe88.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"></div> <a href="/" class="home-link router-link-active"><img src="/img/docs_logo.svg" alt="Terra Docs" class="logo"> <span class="site-name can-hide">Terra Docs</span></a> <div class="links"><nav class="nav-links can-hide"><div class="nav-item"><a href="/" class="nav-link">Docs</a></div><div class="nav-item"><a href="/validator/" class="nav-link">Validators</a></div><div class="nav-item"><a href="/dev/" class="nav-link router-link-active">Core Devs</a></div><div class="nav-item"><a href="https://github.com/terra-project/core" target="_blank" rel="noopener noreferrer" class="nav-link external"><div class="nav-icon"><img src="/img/github.svg"></div></a></div></nav> <form id="search-form" role="search" class="algolia-search-wrapper search-box"><input id="algolia-search-input" class="search-query"></form></div></header> <aside class="sidebar"><nav class="nav-links"><div class="nav-item"><a href="/" class="nav-link">Docs</a></div><div class="nav-item"><a href="/validator/" class="nav-link">Validators</a></div><div class="nav-item"><a href="/dev/" class="nav-link router-link-active">Core Devs</a></div><div class="nav-item"><a href="https://github.com/terra-project/core" target="_blank" rel="noopener noreferrer" class="nav-link external"><div class="nav-icon"><img src="/img/github.svg"></div></a></div></nav>  <ul class="sidebar-links"><li><a href="/dev/" aria-current="page" class="sidebar-link">Developer Guide</a></li><li><section class="sidebar-group collapsable depth-0"><p class="sidebar-heading open"><span>Module Specs</span> <span class="arrow down"></span></p> <ul class="sidebar-links sidebar-group-items"><li><a href="/dev/spec-auth.html" class="sidebar-link">Auth</a></li><li><a href="/dev/spec-bank.html" class="sidebar-link">Bank</a></li><li><a href="/dev/spec-distribution.html" class="sidebar-link">Distribution</a></li><li><a href="/dev/spec-governance.html" aria-current="page" class="active sidebar-link">Governance</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/dev/spec-governance.html#proposals" class="sidebar-link">Proposals</a></li><li class="sidebar-sub-header"><a href="/dev/spec-governance.html#transitions" class="sidebar-link">Transitions</a></li><li class="sidebar-sub-header"><a href="/dev/spec-governance.html#parameters" class="sidebar-link">Parameters</a></li></ul></li><li><a href="/dev/spec-market.html" class="sidebar-link">Market</a></li><li><a href="/dev/spec-oracle.html" class="sidebar-link">Oracle</a></li><li><a href="/dev/spec-slashing.html" class="sidebar-link">Slashing</a></li><li><a href="/dev/spec-staking.html" class="sidebar-link">Staking</a></li><li><a href="/dev/spec-supply.html" class="sidebar-link">Supply</a></li><li><a href="/dev/spec-treasury.html" class="sidebar-link">Treasury</a></li></ul></section></li><li><section class="sidebar-group depth-0"><p class="sidebar-heading"><span>Other Resources</span> <!----></p> <ul class="sidebar-links sidebar-group-items"><li><a href="https://pkg.go.dev/github.com/terra-project/core?tab=subdirectories" target="_blank" rel="noopener noreferrer" class="sidebar-link">Terra Core GoDoc</a></li><li><a href="https://swagger.terra.money" target="_blank" rel="noopener noreferrer" class="sidebar-link">Terra REST API</a></li></ul></section></li></ul>  <div class="sidebar_footer"><a href="https://jigu.terra.money/" target="_blank"><div class="image"><img src="/img/jigu_logo.svg"></div> <div class="name"><div><b>Jigu</b> Python SDK
          <i class="material-icons">transit_enterexit</i></div></div></a> <a href="https://terra-project.github.io/terra.js/" target="_blank"><div class="image"><img src="/img/terra_js.svg"></div> <div class="name"><div><b>Terra.js</b> JS SDK
          <i class="material-icons">transit_enterexit</i></div></div></a></div></aside> <main class="page"> <nav id="breadcrumb" class="breadcrumb-container" data-v-92cb9374><a href="/" class="breadcrumb router-link-active" data-v-92cb9374><span data-v-92cb9374>Terra Docs</span></a><a href="/dev/" class="breadcrumb router-link-active" data-v-92cb9374><span data-v-92cb9374>Developer Guide</span></a><a href="/dev/spec-governance.html" aria-current="page" class="breadcrumb router-link-exact-active router-link-active" data-v-92cb9374><span data-v-92cb9374>Governance</span></a></nav> <div class="theme-default-content content__default"><h1 id="governance"><a href="#governance" class="header-anchor">#</a> Governance</h1> <blockquote><p>Terra's Governance module inherits from Cosmos SDK's <a href="https://github.com/cosmos/cosmos-sdk/tree/v0.37.4/docs/spec/governance" target="_blank" rel="noopener noreferrer"><code>gov</code><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> module. This document is a stub, and covers mainly important Terra-specific notes about how it is used.</p></blockquote> <p>Governance is the process through which participants within the Terra network can effect change on the protocol by submitting petitions known as &quot;proposals,&quot; arriving at a popular consensus when a threshold amount of support has been reached for it. The proposal structure is versatile and allows for holders of Luna (those who have an interest in the long-term viability of the network) to voice their opinion on both blockchain parameter updates as well as future development of the Terra protocol.</p> <p>Check the <a href="/terracli/governance.html">Governance section of the <code>terracli</code> Reference</a> to see examples of how to participate in the Governance process.</p> <h2 id="proposals"><a href="#proposals" class="header-anchor">#</a> Proposals</h2> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> Proposal <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Content <span class="token string">`json:&quot;content&quot; yaml:&quot;content&quot;`</span> <span class="token comment">// Proposal content interface</span>

	ProposalID       <span class="token builtin">uint64</span>         <span class="token string">`json:&quot;id&quot; yaml:&quot;id&quot;`</span>                                 <span class="token comment">//  ID of the proposal</span>
	Status           ProposalStatus <span class="token string">`json:&quot;proposal_status&quot; yaml:&quot;proposal_status&quot;`</span>       <span class="token comment">// Status of the Proposal {Pending, Active, Passed, Rejected}</span>
	FinalTallyResult TallyResult    <span class="token string">`json:&quot;final_tally_result&quot; yaml:&quot;final_tally_result&quot;`</span> <span class="token comment">// Result of Tallys</span>

	SubmitTime     time<span class="token punctuation">.</span>Time <span class="token string">`json:&quot;submit_time&quot; yaml:&quot;submit_time&quot;`</span>           <span class="token comment">// Time of the block where TxGovSubmitProposal was included</span>
	DepositEndTime time<span class="token punctuation">.</span>Time <span class="token string">`json:&quot;deposit_end_time&quot; yaml:&quot;deposit_end_time&quot;`</span> <span class="token comment">// Time that the Proposal would expire if deposit amount isn't met</span>
	TotalDeposit   sdk<span class="token punctuation">.</span>Coins <span class="token string">`json:&quot;total_deposit&quot; yaml:&quot;total_deposit&quot;`</span>       <span class="token comment">// Current deposit on this proposal. Initial value is set at InitialDeposit</span>

	VotingStartTime time<span class="token punctuation">.</span>Time <span class="token string">`json:&quot;voting_start_time&quot; yaml:&quot;voting_start_time&quot;`</span> <span class="token comment">// Time of the block where MinDeposit was reached. -1 if MinDeposit is not reached</span>
	VotingEndTime   time<span class="token punctuation">.</span>Time <span class="token string">`json:&quot;voting_end_time&quot; yaml:&quot;voting_end_time&quot;`</span>     <span class="token comment">// Time that the VotingPeriod for this proposal will end and votes will be tallied</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> Content <span class="token keyword">interface</span> <span class="token punctuation">{</span>
	<span class="token function">GetTitle</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
	<span class="token function">GetDescription</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
	<span class="token function">ProposalRoute</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
	<span class="token function">ProposalType</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
	<span class="token function">ValidateBasic</span><span class="token punctuation">(</span><span class="token punctuation">)</span> sdk<span class="token punctuation">.</span>Error
	<span class="token function">String</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token builtin">string</span>
<span class="token punctuation">}</span>
</code></pre></div><p>A <code>Proposal</code> is a data structure representing a petition for a change that is submitted by to the blockchain alongside a deposit. Once its deposit reaches a certain value (<a href="#mindeposit"><code>MinDeposit</code></a>), the proposal is confirmed and voting opens. Bonded Luna hoolders can then send <a href=""><code>TxGovVote</code></a> transactions to vote on the proposal. Terra currently follows a simple voting scheme of 1 Bonded Luna = 1 Vote.</p> <p>The <code>Content</code> on a proposal is an interface which contains the information about the <code>Proposal</code> such as the <code>title</code>, <code>description</code>, and any notable changes. Also, this <code>Content</code> type can by implemented by any module. The <code>Content</code>'s <code>ProposalRoute</code> returns a string which must be used to route the <code>Content</code>'s Handler in the Governance keeper. This allows the governance keeper to execute proposal logic implemented by any module. If a proposal passes, the handler is executed. Only if the handler is successful does the state get persisted and the proposal finally passes. Otherwise, the proposal is rejected.</p> <h3 id="text-proposals"><a href="#text-proposals" class="header-anchor">#</a> Text Proposals</h3> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> TextProposal <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Title       <span class="token builtin">string</span> <span class="token string">`json:&quot;title&quot; yaml:&quot;title&quot;`</span>
	Description <span class="token builtin">string</span> <span class="token string">`json:&quot;description&quot; yaml:&quot;description&quot;`</span>
<span class="token punctuation">}</span>
</code></pre></div><p>Text Proposals are used for creating general-purpose petitions, such as asking the Core team to implement a specific feature. The community can reference a passed Text Proposal to the core developers to indicate that a feature (requiring potentially a soft or hard fork) is in significant demand.</p> <h3 id="parameter-change-proposals"><a href="#parameter-change-proposals" class="header-anchor">#</a> Parameter Change Proposals</h3> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> ParameterChangeProposal <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Title       <span class="token builtin">string</span>        <span class="token string">`json:&quot;title&quot; yaml:&quot;title&quot;`</span>
	Description <span class="token builtin">string</span>        <span class="token string">`json:&quot;description&quot; yaml:&quot;description&quot;`</span>
	Changes     <span class="token punctuation">[</span><span class="token punctuation">]</span>ParamChange <span class="token string">`json:&quot;changes&quot; yaml:&quot;changes&quot;`</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> ParamChange <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Subspace <span class="token builtin">string</span> <span class="token string">`json:&quot;subspace&quot; yaml:&quot;subspace&quot;`</span>
	Key      <span class="token builtin">string</span> <span class="token string">`json:&quot;key&quot; yaml:&quot;key&quot;`</span>
	Subkey   <span class="token builtin">string</span> <span class="token string">`json:&quot;subkey,omitempty&quot; yaml:&quot;subkey,omitempty&quot;`</span>
	Value    <span class="token builtin">string</span> <span class="token string">`json:&quot;value&quot; yaml:&quot;value&quot;`</span>
<span class="token punctuation">}</span>
</code></pre></div><blockquote><p>Parameter Change Proposals are actually located in the Params module, an internal module. It is shown here for your convenience.
{note}</p></blockquote> <p>Parameter Change Proposals are a special type of proposal which, once passed, will automaticaly go in effect by directly altering the network's parameter specified. For each module, you can find the parameters associated with it by browsing to the <strong>Parameters</strong> section of the module specification.</p> <h3 id="community-pool-spend-proposals"><a href="#community-pool-spend-proposals" class="header-anchor">#</a> Community Pool Spend Proposals</h3> <p>Defined and handled in the <a href="/dev/spec-distribution.html#governance-proposals"><code>Distribution</code> module</a>.</p> <h3 id="tax-rate-reward-weight-update-proposals"><a href="#tax-rate-reward-weight-update-proposals" class="header-anchor">#</a> Tax Rate / Reward Weight Update Proposals</h3> <p>Defined and handled in the <a href="/dev/spec-treasury.html#governance-proposals"><code>Treasury</code> module</a>.</p> <h3 id="software-upgrade-proposals"><a href="#software-upgrade-proposals" class="header-anchor">#</a> Software Upgrade Proposals</h3> <div class="custom-block danger"><p class="custom-block-title">WARNING</p> <p>Software Upgrade Proposals also exist due to inheritance from Cosmos SDK but are for the moment considered unavailable, as they have not yet been implemented. They thus share the same semantics as a simple Text Proposal. It is strongly advised to not submit these types of proposals at the risk of losing your Luna deposit.</p></div> <h2 id="transitions"><a href="#transitions" class="header-anchor">#</a> Transitions</h2> <h3 id="end-block"><a href="#end-block" class="header-anchor">#</a> End-Block</h3> <blockquote><p>This section was taken from the official Cosmos SDK docs, and placed here for your convenience to understand the Governance process.</p></blockquote> <p><code>ProposalProcessingQueue</code> is a queue <code>queue[proposalID]</code> containing all the <code>ProposalID</code>s of proposals that reached <code>MinDeposit</code>. At the end of each block, all the proposals that have reached the end of their voting period are processed. To process a finished proposal, the application tallies the votes, computes the votes of each validator and checks if every validator in the validator set has voted. If the proposal is accepted, deposits are refunded. Finally, the proposal content <code>Handler</code> is executed.</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">for</span> finishedProposalID in <span class="token function">GetAllFinishedProposalIDs</span><span class="token punctuation">(</span>block<span class="token punctuation">.</span>Time<span class="token punctuation">)</span>
	proposal <span class="token operator">=</span> <span class="token function">load</span><span class="token punctuation">(</span>Governance<span class="token punctuation">,</span> <span class="token operator">&lt;</span>proposalID<span class="token operator">|</span><span class="token string">'proposal'</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token comment">// proposal is a const key</span>

	validators <span class="token operator">=</span> Keeper<span class="token punctuation">.</span><span class="token function">getAllValidators</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	tmpValMap <span class="token operator">:=</span> <span class="token keyword">map</span><span class="token punctuation">(</span>sdk<span class="token punctuation">.</span>AccAddress<span class="token punctuation">)</span>ValidatorGovInfo

	<span class="token comment">// Initiate mapping at 0. This is the amount of shares of the validator's vote that will be overridden by their delegator's votes</span>
	<span class="token keyword">for</span> each validator in validators
	<span class="token function">tmpValMap</span><span class="token punctuation">(</span>validator<span class="token punctuation">.</span>OperatorAddr<span class="token punctuation">)</span><span class="token punctuation">.</span>Minus <span class="token operator">=</span> <span class="token number">0</span>

	<span class="token comment">// Tally</span>
	voterIterator <span class="token operator">=</span> <span class="token function">rangeQuery</span><span class="token punctuation">(</span>Governance<span class="token punctuation">,</span> <span class="token operator">&lt;</span>proposalID<span class="token operator">|</span><span class="token string">'addresses'</span><span class="token operator">&gt;</span><span class="token punctuation">)</span> <span class="token comment">//return all the addresses that voted on the proposal</span>
	<span class="token keyword">for</span> each <span class="token punctuation">(</span>voterAddress<span class="token punctuation">,</span> vote<span class="token punctuation">)</span> in voterIterator
	delegations <span class="token operator">=</span> stakingKeeper<span class="token punctuation">.</span><span class="token function">getDelegations</span><span class="token punctuation">(</span>voterAddress<span class="token punctuation">)</span> <span class="token comment">// get all delegations for current voter</span>

	<span class="token keyword">for</span> each delegation in delegations
		<span class="token comment">// make sure delegation.Shares does NOT include shares being unbonded</span>
		<span class="token function">tmpValMap</span><span class="token punctuation">(</span>delegation<span class="token punctuation">.</span>ValidatorAddr<span class="token punctuation">)</span><span class="token punctuation">.</span>Minus <span class="token operator">+=</span> delegation<span class="token punctuation">.</span>Shares
		proposal<span class="token punctuation">.</span><span class="token function">updateTally</span><span class="token punctuation">(</span>vote<span class="token punctuation">,</span> delegation<span class="token punctuation">.</span>Shares<span class="token punctuation">)</span>

	<span class="token boolean">_</span><span class="token punctuation">,</span> isVal <span class="token operator">=</span> stakingKeeper<span class="token punctuation">.</span><span class="token function">getValidator</span><span class="token punctuation">(</span>voterAddress<span class="token punctuation">)</span>
	<span class="token keyword">if</span> <span class="token punctuation">(</span>isVal<span class="token punctuation">)</span>
		<span class="token function">tmpValMap</span><span class="token punctuation">(</span>voterAddress<span class="token punctuation">)</span><span class="token punctuation">.</span>Vote <span class="token operator">=</span> vote

	tallyingParam <span class="token operator">=</span> <span class="token function">load</span><span class="token punctuation">(</span>GlobalParams<span class="token punctuation">,</span> <span class="token string">'TallyingParam'</span><span class="token punctuation">)</span>

	<span class="token comment">// Update tally if validator voted they voted</span>
	<span class="token keyword">for</span> each validator in validators
	<span class="token keyword">if</span> <span class="token function">tmpValMap</span><span class="token punctuation">(</span>validator<span class="token punctuation">)</span><span class="token punctuation">.</span>HasVoted
		proposal<span class="token punctuation">.</span><span class="token function">updateTally</span><span class="token punctuation">(</span><span class="token function">tmpValMap</span><span class="token punctuation">(</span>validator<span class="token punctuation">)</span><span class="token punctuation">.</span>Vote<span class="token punctuation">,</span> <span class="token punctuation">(</span>validator<span class="token punctuation">.</span>TotalShares <span class="token operator">-</span> <span class="token function">tmpValMap</span><span class="token punctuation">(</span>validator<span class="token punctuation">)</span><span class="token punctuation">.</span>Minus<span class="token punctuation">)</span><span class="token punctuation">)</span>

	<span class="token comment">// Check if proposal is accepted or rejected</span>
	totalNonAbstain <span class="token operator">:=</span> proposal<span class="token punctuation">.</span>YesVotes <span class="token operator">+</span> proposal<span class="token punctuation">.</span>NoVotes <span class="token operator">+</span> proposal<span class="token punctuation">.</span>NoWithVetoVotes
	<span class="token keyword">if</span> <span class="token punctuation">(</span>proposal<span class="token punctuation">.</span>Votes<span class="token punctuation">.</span>YesVotes<span class="token operator">/</span>totalNonAbstain <span class="token operator">&gt;</span> tallyingParam<span class="token punctuation">.</span>Threshold AND proposal<span class="token punctuation">.</span>Votes<span class="token punctuation">.</span>NoWithVetoVotes<span class="token operator">/</span>totalNonAbstain  <span class="token operator">&lt;</span> tallyingParam<span class="token punctuation">.</span>Veto<span class="token punctuation">)</span>
	<span class="token comment">//  proposal was accepted at the end of the voting period</span>
	<span class="token comment">//  refund deposits (non-voters already punished)</span>
	<span class="token keyword">for</span> each <span class="token punctuation">(</span>amount<span class="token punctuation">,</span> depositor<span class="token punctuation">)</span> in proposal<span class="token punctuation">.</span>Deposits
		depositor<span class="token punctuation">.</span>AtomBalance <span class="token operator">+=</span> amount

	stateWriter<span class="token punctuation">,</span> err <span class="token operator">:=</span> proposal<span class="token punctuation">.</span><span class="token function">Handler</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">if</span> err <span class="token operator">!=</span> <span class="token boolean">nil</span>
		<span class="token comment">// proposal passed but failed during state execution</span>
		proposal<span class="token punctuation">.</span>CurrentStatus <span class="token operator">=</span> ProposalStatusFailed
		<span class="token keyword">else</span>
		<span class="token comment">// proposal pass and state is persisted</span>
		proposal<span class="token punctuation">.</span>CurrentStatus <span class="token operator">=</span> ProposalStatusAccepted
		stateWriter<span class="token punctuation">.</span><span class="token function">save</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
	<span class="token keyword">else</span>
	<span class="token comment">// proposal was rejected</span>
	proposal<span class="token punctuation">.</span>CurrentStatus <span class="token operator">=</span> ProposalStatusRejected

	<span class="token function">store</span><span class="token punctuation">(</span>Governance<span class="token punctuation">,</span> <span class="token operator">&lt;</span>proposalID<span class="token operator">|</span><span class="token string">'proposal'</span><span class="token operator">&gt;</span><span class="token punctuation">,</span> proposal<span class="token punctuation">)</span>
</code></pre></div><h2 id="parameters"><a href="#parameters" class="header-anchor">#</a> Parameters</h2> <p>The subspace for the Governance module is <code>gov</code>.</p> <div class="language-go extra-class"><pre class="language-go"><code><span class="token keyword">type</span> DepositParams <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	MinDeposit       sdk<span class="token punctuation">.</span>Coins     <span class="token string">`json:&quot;min_deposit,omitempty&quot; yaml:&quot;min_deposit,omitempty&quot;`</span>
	MaxDepositPeriod time<span class="token punctuation">.</span>Duration <span class="token string">`json:&quot;max_deposit_period,omitempty&quot; yaml:&quot;max_deposit_period,omitempty&quot;`</span> <span class="token comment">//  Maximum period for Atom holders to deposit on a proposal. Initial value: 2 months</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> TallyParams <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	Quorum    sdk<span class="token punctuation">.</span>Dec <span class="token string">`json:&quot;quorum,omitempty&quot; yaml:&quot;quorum,omitempty&quot;`</span>
	Threshold sdk<span class="token punctuation">.</span>Dec <span class="token string">`json:&quot;threshold,omitempty&quot; yaml:&quot;threshold,omitempty&quot;`</span>
	Veto      sdk<span class="token punctuation">.</span>Dec <span class="token string">`json:&quot;veto,omitempty&quot; yaml:&quot;veto,omitempty&quot;`</span>
<span class="token punctuation">}</span>

<span class="token keyword">type</span> VotingParams <span class="token keyword">struct</span> <span class="token punctuation">{</span>
	VotingPeriod time<span class="token punctuation">.</span>Duration <span class="token string">`json:&quot;voting_period,omitempty&quot; yaml:&quot;voting_period,omitempty&quot;`</span>
<span class="token punctuation">}</span>
</code></pre></div><h3 id="mindeposit"><a href="#mindeposit" class="header-anchor">#</a> MinDeposit</h3> <p>Minimum deposit for a proposal to enter voting period.</p> <ul><li>type: <code>sdk.Coins</code></li> <li>default value: <code>uluna</code></li></ul> <h3 id="maxdepositperiod"><a href="#maxdepositperiod" class="header-anchor">#</a> MaxDepositPeriod</h3> <p>Maximum period for Luna holders to deposit on a proposal.</p> <ul><li>type: <code>time.Duration</code></li> <li>default value: <code>2 months</code></li></ul> <h3 id="quorum"><a href="#quorum" class="header-anchor">#</a> Quorum</h3> <p>Minimum percentage of total stake needed to vote for a result to be considered valid.</p> <ul><li>type: <code>sdk.Dec</code></li> <li>default value: N/A</li></ul> <h3 id="threshold"><a href="#threshold" class="header-anchor">#</a> Threshold</h3> <p>Minimum proportion of Yes votes for proposal to pass.</p> <ul><li>type: <code>sdk.Dec</code></li> <li>default value: <code>0.5</code> (50%)</li></ul> <h3 id="veto"><a href="#veto" class="header-anchor">#</a> Veto</h3> <p>Minimum value of Veto votes to Total votes ratio for proposal to be vetoed.</p> <ul><li>type: <code>sdk.Dec</code></li> <li>default value: <code>0.33</code> (1/3rd)</li></ul> <h3 id="votingperiod"><a href="#votingperiod" class="header-anchor">#</a> VotingPeriod</h3> <p>Length of the voting period.</p> <ul><li>type: <code>time.Duration</code></li> <li>default value: N/A</li></ul></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/terra-project/docs/edit/master/src/dev/spec-governance.md" target="_blank" rel="noopener noreferrer">Edit this page on Github.</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">Updated on:</span> <span class="time">6/11/2020, 10:36:01 AM</span></div></footer> <div class="page-nav"><div class="inner"><div class="prev"><a href="/dev/spec-distribution.html">Distribution</a></div> <div class="next"><a href="/dev/spec-market.html">Market</a></div></div></div>  <div class="footer-container"><div class="company"><div class="copyright">Terraform labs PTE.LTD</div> <div class="subscribe"><div class="subscribe-title">Subscribe to get updates</div> <form action="https://money.us17.list-manage.com/subscribe/post?u=8eca8dc5c91c2e30d69b1463e&id=1447662093" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" novalidate="novalidate" class="validate"><input type="email" value name="EMAIL" id="mce-EMAIL" placeholder="Email address" required="required" class="email">
        real people should not fill this in and expect good things - do not remove this or risk form bot
        signups
        <div aria-hidden="true" style="position: absolute; left: -5000px;"><input type="text" name="b_8eca8dc5c91c2e30d69b1463e_1447662093" tabindex="-1" value></div> <button type="submit">Submit</button></form></div></div> <div class="links-container"><ul class="learn"><li>Learn</li> <li><a href="https://terra.money/Terra_White_paper.pdf" target="_blank">
          White
          Paper
        </a></li> <li><a href="https://docsend.com/view/9mvr5qq" target="_blank">Decks</a></li> <li><a href="https://certik.org/reports/terra.pdf" target="_blank">Security Audit</a></li> <li><a href="https://agora.terra.money/" target="_blank">Agora Discussions</a></li></ul> <ul class="developers"><li>Tools</li> <li><a href="https://station.terra.money/" target="_blank">Terra Station</a></li> <li><a href="https://finder.terra.money/" target="_blank">Terra Finder</a></li> <li><a href="https://status.terra.money/" target="_blank">Status</a></li></ul> <ul class="developers"><li>Luna</li> <li><a href="https://docs.terra.money/luna" target="_blank">What is Luna?</a></li> <li><a href="https://docs.terra.money/integrations.html#exchanges" target="_blank">Exchanges</a></li> <li><a href="https://docs.terra.money/integrations.html#wallets" target="_blank">Wallets</a></li></ul> <ul class="developers"><li>Foundation</li> <li><a href="https://terra.money/about.html" target="_blank">Team</a></li> <li><a href="https://terra.breezy.hr/" target="_blank">Careers</a></li></ul> <ul class="developers"><li>Developers</li> <li><a href="https://github.com/terra-project" target="_blank">Github</a></li> <li><a href="https://docs.terra.money/" target="_blank">Documentation</a></li> <li><a href="https://docs.terra.money/#sdks-for-developers" target="_blank">SDKs</a></li> <li><a href="https://github.com/terra-project/TIPs" target="_blank">TIPs</a></li></ul> <ul class="developers"><li>Validators</li> <li><a href="https://docs.terra.money/validator" target="_blank">Validator Guide</a></li> <li><a href="https://github.com/terra-project/validator-profiles" target="_blank">Profiles</a></li> <li><a href="https://discord.gg/ZHBuKda" target="_blank">Discord Channel</a></li></ul></div> <div class="sns-container"><div class="logos"><a href="https://discord.gg/bYfyhUT" rel="noopener" target="_blank"><img src="https://terra.money/static/assets/images/icon_discord.png" alt="link to Terra discord room"></a> <a href="https://medium.com/terra-money" rel="noopener" target="_blank"><img src="https://terra.money/static/assets/images/icon_medium.png" alt="link to Terra medium"></a> <a href="https://twitter.com/terra_money" rel="noopener" target="_blank"><img src="https://terra.money/static/assets/images/icon_twitter.png" alt="link to Terra twitter"></a> <a href="https://www.youtube.com/channel/UCoV1RXZ9ZBGcuu_PMTTlM0g" rel="noopener" target="_blank"><img src="https://terra.money/static/assets/images/icon_youtube.png" alt="link to Terra youtube"></a> <a href="https://t.me/terra_announcements" rel="noopener" target="_blank"><img src="https://terra.money/static/assets/images/icon_telegram.png" alt="link to Terra telegram room"></a></div> <a href="https://terra.money" target="_blank" class="terramoney">terra.money</a></div></div></main></div><div class="global-ui"></div></div>
    <script src="/assets/js/app.b6e5252d.js" defer></script><script src="/assets/js/3.29d4a129.js" defer></script><script src="/assets/js/12.72d7b46e.js" defer></script>
  </body>
</html>
